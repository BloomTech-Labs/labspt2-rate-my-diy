# These type-definitions allow the prisma client to speak to the DB 
# according to the types defined in schema.graphql.
# They also allow prisma to generate crud operations for us.

type Query {
  getUsers: [User!]!
  getUserById: User!
  getProjects: [Project!]!
  getProjectByUser: [Project]!
  getProjectById: Project!
  getReviews: [Review!]!
  getReviewById: Review!
}
#Types needed:  Users, Projects, Reviews, Comments

type Stars {
 number: Float! @default(value: 1)
}

type Privileges {
 isModerator: Boolean!
 isAdmin: Boolean!
 isPlebian: Boolean!
}

# type Mutation {

# }

type User {
  id: ID! @unique
  projects: [Project!]!
  privileges: [Privilege!]!
  makerRating: Float
  ReviewerThumbs: Int! @default(value: 1)
  ProjectList: [Project!]!
  ReviewList: [Review!]!
  Bio: Bio
  Settings: Settings
  Billing: Billing
  url: String!
  # adding username field to User type
  username: String! @unique
  password: String! @unique
  email: String! @unique
}
  
type StepArray {[
  textBlurbs: String
  imgUrls: String
]}

type Project {
 id: ID! 
 name: String!
 category: String!
 stars: Stars
 timestamp: String!
 EditedAt: String!
 author: User!
 titleImg: String!
 titleBlurb: String!
 Steps:StepArray
 Reviews:[Review]
}
  
type Review {
  id: ID! 
  Title: String!
  author: User!
  stars: Stars
  text: String!
  editedAt: String!
  reviewThumbsUp: INT
  reviewThumbsDown: INT
  comments: [Comment]
}

type Comment {
  id: ID!
  editedAt: DateTime!
  text: String!
  user: User!
}

type Privilege{
  id: ID!
  name: String!
}

type Billing {
  amtPaid:Float
  DatePaid:String
  OrderNumber:INT
  Description:String
}



